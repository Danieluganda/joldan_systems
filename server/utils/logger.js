/**
 * Logger Utility\n * \n * Centralized logging for the application\n * Supports file logging and console output\n */\n\nconst env = require('../config/env');\nconst fs = require('fs');\nconst path = require('path');\n\nconst LOG_LEVELS = {\n  ERROR: 0,\n  WARN: 1,\n  INFO: 2,\n  DEBUG: 3,\n};\n\nconst LOG_LEVEL_NAMES = {\n  0: 'ERROR',\n  1: 'WARN',\n  2: 'INFO',\n  3: 'DEBUG',\n};\n\nconst getCurrentLevel = () => {\n  return LOG_LEVELS[env.LOG.LEVEL.toUpperCase()] || LOG_LEVELS.INFO;\n};\n\n/**\n * Format log message\n */\nconst formatMessage = (level, message, data) => {\n  const timestamp = new Date().toISOString();\n  const levelName = LOG_LEVEL_NAMES[level];\n  let msg = `[${timestamp}] [${levelName}] ${message}`;\n  if (data) {\n    msg += `\\nData: ${JSON.stringify(data, null, 2)}`;\n  }\n  return msg;\n};\n\n/**\n * Write to file\n */\nconst writeToFile = (message) => {\n  try {\n    const logDir = path.dirname(env.LOG.FILE);\n    if (!fs.existsSync(logDir)) {\n      fs.mkdirSync(logDir, { recursive: true });\n    }\n    fs.appendFileSync(env.LOG.FILE, message + '\\n');\n  } catch (err) {\n    console.error('Failed to write log file:', err);\n  }\n};\n\n/**\n * Log message\n */\nconst log = (level, message, data) => {\n  const currentLevel = getCurrentLevel();\n  if (level > currentLevel) return;\n\n  const formatted = formatMessage(level, message, data);\n  \n  // Console output\n  if (level === LOG_LEVELS.ERROR) {\n    console.error(formatted);\n  } else if (level === LOG_LEVELS.WARN) {\n    console.warn(formatted);\n  } else {\n    console.log(formatted);\n  }\n\n  // File output\n  if (level <= LOG_LEVELS.WARN) {\n    writeToFile(formatted);\n  }\n};\n\nmodule.exports = {\n  error: (message, data) => log(LOG_LEVELS.ERROR, message, data),\n  warn: (message, data) => log(LOG_LEVELS.WARN, message, data),\n  info: (message, data) => log(LOG_LEVELS.INFO, message, data),\n  debug: (message, data) => log(LOG_LEVELS.DEBUG, message, data),\n};\n"
